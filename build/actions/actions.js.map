{"version":3,"sources":["../../src/actions/actions.js"],"names":["translateInput","req","res","console","log","headers","words","query","Array","isArray","json","error","wordPromises","map","translate","word","Promise","all","then","translatedWords","values","item","catch","errorMessage","message"],"mappings":";;;;;;AAAA;;;;;;AAEA,IAAMA,iBAAiB,SAAjBA,cAAiB,CAACC,GAAD,EAAMC,GAAN,EAAc;AACnCC,UAAQC,GAAR,CAAYH,IAAII,OAAhB;AACA,MAAMC,QAAQL,IAAIM,KAAJ,CAAUD,KAAxB;AACA,MAAI,CAACE,MAAMC,OAAN,CAAcH,KAAd,CAAL,EAA2B;AACzB,WAAOJ,IAAIQ,IAAJ,CAAS,EAAEC,OAAO,wBAAT,EAAT,CAAP;AACD;AACD,MAAMC,eAAeN,MAAMO,GAAN,CAAU,gBAAQ;AACrC,WAAOC,oBAAUA,SAAV,CAAoBC,IAApB,EAA0B,IAA1B,CAAP;AACD,GAFoB,CAArB;;AAIAC,UAAQC,GAAR,CAAYL,YAAZ,EAA0BM,IAA1B,CAA+B,kBAAU;AACvC,QAAMC,kBAAkB,EAAEb,OAAOc,OAAOP,GAAP,CAAW;AAAA,eAAQQ,KAAK,CAAL,CAAR;AAAA,OAAX,CAAT,EAAxB;AACA,WAAOnB,IAAIQ,IAAJ,CAASS,eAAT,CAAP;AACD,GAHD,EAICG,KAJD,CAIO,iBAAS;AACd,WAAOpB,IAAIQ,IAAJ,CAAS;AACdC,aAAO,0CADO;AAEdY,oBAAcZ,MAAMa;AAFN,KAAT,CAAP;AAID,GATD;AAUD,CApBD;;kBAsBe,EAAExB,8BAAF,E","file":"actions.js","sourcesContent":["import translate from './translate';\n\nconst translateInput = (req, res) => {\n  console.log(req.headers);\n  const words = req.query.words;\n  if (!Array.isArray(words)) {\n    return res.json({ error: 'query must be an array'});\n  }\n  const wordPromises = words.map(word => {\n    return translate.translate(word, 'ig');\n  });\n\n  Promise.all(wordPromises).then(values => {\n    const translatedWords = { words: values.map(item => item[0]) };\n    return res.json(translatedWords);\n  })\n  .catch(error => {\n    return res.json({\n      error: 'there was an error translating the input',\n      errorMessage: error.message\n    });\n  })\n}\n\nexport default { translateInput };"]}